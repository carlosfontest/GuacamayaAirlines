extends layout

block content
   .airport
      .airport__background
         img.airport__background-image(src=`/images/${airport.iata}.jpg`, alt=`Airport - ${airport.iata}`)
         .airport__background-conttext
            p.airport__background-text 
               span #{airport.iata} 
               | - #{airport.city}
      .airport__info
         .airport__map
            img.airport__map-image(src=h.staticMap(airport.lon, airport.lat))
            .airport__map-contname
               p.airport__map-name - #{airport.name} -

         .airport__flights
            each flight in airport.flights
               .airport__flights-card
                  table
                     thead 
                        tr
                           th From
                           th To
                           th Depart Date
                           th Price
                           th 
                     tbody
                        tr
                           - const conditionFrom = flight.origin.startsWith(airport.iata);
                           - const conditionTo = flight.destiny.startsWith(`${airport.iata}`);
                           if conditionFrom
                              td <span class="flightImportant">#{flight.origin}</span>
                           else
                              td #{flight.origin}
                           if conditionTo
                              td <span class="flightImportant">#{flight.destiny}</span>
                           else
                              td #{flight.destiny}
                           td= h.moment(flight.date).format('MMMM Do YYYY')
                           td #{flight.basePrice} $
                           td.buttonCell 
                              a(class="waves-effect waves-light btn-small") Purchase&nbsp;&nbsp; <i class="fas fa-cart-plus"></i>